<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>火把知识-后台</title>
	<link rel="stylesheet" type="text/css" href="../layui-2.0/css/layui.css">
	<!-- 公用样式 -->
	<link rel="stylesheet" type="text/css" href="../layui-2.0/css/public.css">
</head>

<body>
	<!--数据表格-->
	<div class="table">
		<table class="layui-table" style="table-layout:fixed;margin:0;">
			<colgroup>
				<col width="50">
				<col width="138">
				<col width="6%">
				<col width="19%">
				<col width="8%">
				<col width="8%">
				<col width="10%">
				<col width="10%">
				<col width="12%">
				<col>
			</colgroup>
			<thead>
			<tr>
				<th>
					<form class="layui-form checkAll" action="">
						<input type="checkbox" lay-filter="checkAll" lay-skin="primary" >
					</form>
				</th>
				<th style="text-align:left;">商品ID</th>
				<th style="cursor: pointer;text-align:left;">状态</th>
				<th style="text-align:left;">商品信息</th>
				<th style="text-align:center;">定价
					<span class="inline_block">
						<i class="layui-icon layui-icon-triangle-d topArrow sortprice" data-type="asc"></i>
						<i class="layui-icon layui-icon-triangle-d bottomArrow sortprice" data-type="desc"></i>
					</span>
				</th>
				<th style="text-align:center;">销售价
					<span class="inline_block">
						<i class="layui-icon layui-icon-triangle-d topArrow sortprice" data-type="asc"></i>
						<i class="layui-icon layui-icon-triangle-d bottomArrow sortprice" data-type="desc"></i>
					</span>
				</th>
				<th style="text-align:center;">库存数</th>
				<th style="text-align:center;">外部ID</th>
				<th style="text-align:center;">最新修改时间</th>
				<th style="text-align:center;">操作</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>
					<form class="layui-form" action="">
						<input type="checkbox" name="item_id" value="" lay-skin="primary" class="test" lay-filter="checkChild">
					</form>
				</td>
				<td style="text-align:left;">1002545585</td>
				<td class="status" style="text-align:left;">已上架</td>
				<td class="tableTitle">
					<div class="pic-two">
						<img src="https://mhuoba.oss-cn-hangzhou.aliyuncs.com/picture/audio/20190812/18/20190812183751909.jpg!w81h50" alt="">
					</div>
					<div class="layui-inline message">
						<p class="textTwoOver" title="">商品标题最多两行题最多两行行商品标题最多两行最多两行最多两行</p>
						<p class="textOverflow c6 pt-10" title="">
							作者姓名作者姓名作者姓名作者姓名作者姓名
						</p>
						<p class="c6 pt-10">6646444215</p>
					</div>
				</td>
				<td style="text-align:center;">￥88.00</td>
				<td style="text-align:center;">￥76.20</td>
				<td style="text-align:center;">211155</td>
				<td style="text-align:center;">J40045467</td>
				<td style="text-align:center;">2019-02-06 15:05:16</td>
				<td style="text-align:center;">
					<button type="button" class="layui-btn layui-btn-five">链接</button>
					<button type="button" class="layui-btn layui-btn-five">编辑</button>
				</td>
			</tr>
			</tbody>
		</table>
	</div>
</body>

</html>
<script type="text/javascript" src="../layui-2.0/layui.js"></script>
<script type="text/javascript" src="../layui-2.0/jquery3.4.1.js"></script>
<script type="text/javascript" src="../layui-2.0/public.js"></script>
<script type="text/javascript">

	//数据表格高度
	var height;

	// 填充数据
	function setTable(data) {
		// $.ajax()
		setTableArgs (url);
	}


	// url
	function setTableArgs (url) {
		//
		var cols = [];
		switch(url) {
			case 'goods':
				cols = [[
					{type:'checkbox'}
					,{field:'id', width:80, title: 'ID', sort: true}
					,{field:'username', width:80, title: '用户名'}
					,{field:'sex', width:80, title: '性别', sort: true}
					,{field:'city', width:80, title: '城市'}
					,{field:'sign', title: '签名', minWidth: 100}
					,{field:'experience', width:80, title: '积分', sort: true}
					,{field:'score', width:80, title: '评分', sort: true}
					,{field:'classify', width:80, title: '职业'}
					,{field:'wealth', width:135, title: '财富', sort: true}
				]]
				break;
		}

		getTableData (url, cols);
	}

	//
	function getTableData (url, cols) {

		layui.use('table', function(){
			var table = layui.table;

			table.render({
				elem: '#test'
				,url: url
				,cols: cols
				,page: true
			});
		});
	}

	//JavaScript代码区域
	layui.use(['element', 'form'], function() {
		var element = layui.element,
				form = layui.form,
				$ = layui.$;
		var table = layui.table;

		var laypage = layui.laypage
				, layer = layui.layer;
		//自定义样式分页
		/*laypage.render({
			elem: 'demo2'
			, count: 20
			, layout: ['count', 'prev', 'page', 'next', 'skip']
			, limit: 10
			, groups: 5
			, curr:1
			, jump: function (obj, first) {

			}
		});*/

		//初始化高度
		$(function(){
			height = $('body').height();
			setTableOneHeight(height);
		});

		form.on('checkbox(checkAll)', function (data) {
			if(data.elem.checked){
				$('.table tbody').find('input[lay-filter="checkChild"]').prop('checked',true)
			}else{
				$('.table tbody').find('input[lay-filter="checkChild"]').prop('checked',false)
			}
			form.render();
		})
	});

	// 数据表格
	function setTableOneHeight(height) {
		parent.setTableOneHeight(height);
	}
</script>
